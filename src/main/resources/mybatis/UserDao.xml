<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhaomingchen.dao.UserDao">
  
  
  <resultMap type="User" id="use">
   <id property="id" column="id"/>
   <result property="createTime" column="create_time"/>
   <result property="updateTime" column="update_time"/>
  </resultMap>
  
  <select id="getUser" resultMap="use">
  select * from cms_user <where>
  
  <if test="value!=null and value!=''">
   and cms_user.username like '%${value}%'
  </if>
  </where>
  </select>
  <select id="getById" resultMap="use">
   select * from cms_user where id=${value}
  </select>
  
 <update id="updateLocked">
  update cms_user set locked=${lock} where id=${id}
 </update>
 
 <!-- name值的唯一 -->
  <select id="byName" resultType="User">
   select * from cms_user where username=#{name}
  </select>

</mapper>